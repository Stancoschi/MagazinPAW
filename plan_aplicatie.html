<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>Plan Aplica&#x21b;ie&colon; Magazin Virtual</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="plan-aplicație-magazin-virtual">Plan Aplicație: Magazin Virtual</h1>
<h2 id="descriere-generală">Descriere Generală</h2>
<p>Aplicație web pentru gestionarea și afișarea produselor unui magazin virtual, realizată în PHP și MySQL.</p>
<h2 id="echipă-și-roluri">Echipă și Roluri</h2>
<ul>
<li><strong>Student A:</strong> Implementarea funcționalităților de adăugare, editare, ștergere produse, inclusiv managementul fotografiilor (încărcare, redimensionare).</li>
<li><strong>Student B:</strong> Implementarea funcționalităților de management al caracteristicilor, asignarea caracteristicilor la produse, afișarea listei de produse și a paginii de detaliu pentru un produs.</li>
</ul>
<h2 id="structura-bazei-de-date">Structura Bazei de Date</h2>
<ul>
<li><strong><code>products</code></strong>:
<ul>
<li><code>id</code> (INT, PK, AI)</li>
<li><code>name</code> (VARCHAR(255))</li>
<li><code>short_description</code> (TEXT)</li>
<li><code>detailed_description</code> (TEXT)</li>
<li><code>price</code> (DECIMAL(10,2))</li>
<li><code>main_photo_filename</code> (VARCHAR(255), NULLABLE) - Numele fișierului imaginii principale</li>
<li><code>created_at</code> (TIMESTAMP DEFAULT CURRENT_TIMESTAMP)</li>
<li><code>updated_at</code> (TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP)</li>
</ul>
</li>
<li><strong><code>product_photos</code></strong>:
<ul>
<li><code>id</code> (INT, PK, AI)</li>
<li><code>product_id</code> (INT, FK to <a href="http://products.id">products.id</a> ON DELETE CASCADE)</li>
<li><code>filename</code> (VARCHAR(255)) - Numele fișierului imaginii secundare</li>
<li><code>is_main</code> (BOOLEAN DEFAULT 0) - (Alternativă la <code>main_photo_filename</code> în <code>products</code>)</li>
</ul>
</li>
<li><strong><code>characteristics</code></strong>: (Tipuri de caracteristici)
<ul>
<li><code>id</code> (INT, PK, AI)</li>
<li><code>name</code> (VARCHAR(100), UNIQUE) - Ex: &quot;Culoare&quot;, &quot;Mărime&quot;, &quot;Material&quot;</li>
</ul>
</li>
<li><strong><code>product_characteristics_values</code></strong>: (Valorile caracteristicilor pentru fiecare produs)
<ul>
<li><code>id</code> (INT, PK, AI)</li>
<li><code>product_id</code> (INT, FK to <a href="http://products.id">products.id</a> ON DELETE CASCADE)</li>
<li><code>characteristic_id</code> (INT, FK to <a href="http://characteristics.id">characteristics.id</a> ON DELETE CASCADE)</li>
<li><code>value</code> (VARCHAR(255)) - Ex: &quot;Roșu&quot;, &quot;XL&quot;, &quot;Bumbac&quot;</li>
</ul>
</li>
</ul>
<h2 id="descrierea-fișierelor-php-și-transferul-de-date">Descrierea Fișierelor PHP și Transferul de Date</h2>
<h3 id="director-admin">Director <code>admin/</code></h3>
<ul>
<li><strong><code>add_product.php</code></strong>: Formular HTML pentru introducerea datelor unui nou produs (nume, descrieri, preț) și încărcarea fotografiilor (principală și secundare). La submit, trimite datele către <code>process_add_product.php</code> prin metoda POST.</li>
<li><strong><code>process_add_product.php</code></strong>: Primește datele de la <code>add_product.php</code>. Validează datele. Procesează imaginile (salvează originalul în <code>uploads/products/</code>, creează și salvează thumbnail în <code>uploads/products_thumbnails/</code>). Inserează datele produsului în tabela <code>products</code> și informațiile despre fotografii în <code>product_photos</code>. Redirecționează către <code>list_products_admin.php</code> sau <code>add_product.php</code> cu mesaj de succes/eroare.</li>
<li><strong><code>list_products_admin.php</code></strong>: Afișează o listă tabelară a tuturor produselor din tabela <code>products</code>. Fiecare rând va avea link-uri către <code>edit_product.php?id=X</code> și <code>delete_product.php?id=X</code>.</li>
<li><strong><code>edit_product.php</code></strong>: Formular similar cu <code>add_product.php</code>, pre-populat cu datele produsului cu ID-ul specificat (primit prin GET). Permite modificarea datelor și a fotografiilor. La submit, trimite datele către <code>process_edit_product.php</code> prin metoda POST.</li>
<li><strong><code>process_edit_product.php</code></strong>: Primește datele de la <code>edit_product.php</code>. Validează. Actualizează datele în <code>products</code> și gestionează fotografiile (adăugare noi, ștergere vechi, actualizare principală) în <code>product_photos</code>. Redirecționează.</li>
<li><strong><code>delete_product.php</code></strong>: Confirmă și apoi șterge produsul (și fotografiile asociate, și valorile caracteristicilor) din baza de date, pe baza ID-ului primit prin GET. Șterge și fișierele fizice ale imaginilor.</li>
<li><strong><code>manage_characteristics.php</code></strong>: (Student B) Formular pentru adăugarea de noi tipuri de caracteristici (ex: &quot;Culoare&quot;). Afișează lista caracteristicilor existente cu opțiuni de editare/ștergere. Trimite date la <code>process_manage_characteristics.php</code>.</li>
<li><strong><code>process_manage_characteristics.php</code></strong>: (Student B) Gestionează operațiile CRUD pentru tabela <code>characteristics</code>.</li>
<li><strong><code>assign_characteristics.php</code></strong>: (Student B) Permite selectarea unui produs și apoi asignarea/modificarea valorilor pentru diverse tipuri de caracteristici (selectate din <code>characteristics</code>). Trimite date la <code>process_assign_characteristics.php</code>.</li>
<li><strong><code>process_assign_characteristics.php</code></strong>: (Student B) Salvează/actualizează valorile caracteristicilor pentru un produs în tabela <code>product_characteristics_values</code>.</li>
</ul>
<h3 id="director-public">Director <code>public/</code></h3>
<ul>
<li><strong><code>index.php</code></strong>: Poate fi o pagină de întâmpinare sau un alias pentru <code>products_list.php</code>.</li>
<li><strong><code>products_list.php</code></strong>: (Student B) Afișează o listă/grilă cu toate produsele active. Pentru fiecare produs, afișează numele, prețul, imaginea principală (thumbnail) și un link către <code>product_detail.php?id=X</code>. Interoghează tabela <code>products</code>.</li>
<li><strong><code>product_detail.php</code></strong>: (Student B) Afișează detaliile complete pentru un singur produs (ID primit prin GET). Include: nume, descrieri, preț, imaginea principală mare, galeria de imagini secundare (thumbnails clicabile pentru versiunea mare), lista caracteristicilor și valorile acestora. Interoghează <code>products</code>, <code>product_photos</code>, <code>product_characteristics_values</code> (cu JOIN pe <code>characteristics</code>).</li>
</ul>
<h3 id="director-includes">Director <code>includes/</code></h3>
<ul>
<li><strong><code>db.php</code></strong>: Stabilește conexiunea la baza de date MySQL folosind PDO. Variabila de conexiune <code>$pdo</code> este disponibilă global (sau returnată).</li>
<li><strong><code>functions.php</code></strong>: Conține funcții reutilizabile, de ex: <code>resizeImage($sourcePath, $destinationPath, $width, $height)</code>.</li>
<li><strong><code>header.php</code></strong>: Conține partea de început a HTML-ului (doctype, head, început body, meniu de navigație comun). Include <code>db.php</code> și <code>functions.php</code>. Pornește sesiunea (<code>session_start()</code>) dacă e necesar.</li>
<li><strong><code>footer.php</code></strong>: Conține partea de final a HTML-ului (închidere tag-uri principale, scripturi JS comune).</li>
</ul>
<h3 id="transfer-de-date">Transfer de Date</h3>
<ul>
<li>Între paginile PHP: prin <code>$_GET</code> (pentru ID-uri, acțiuni simple), <code>$_POST</code> (pentru formulare), <code>$_SESSION</code> (pentru mesaje de stare, autentificare - dacă se adaugă).</li>
<li>Cu baza de date: prin interogări SQL executate de scripturile PHP (SELECT, INSERT, UPDATE, DELETE).</li>
<li>Fișiere: Imaginile sunt transferate de la client la server prin formulare (<code>enctype=&quot;multipart/form-data&quot;</code>) și gestionate de PHP (<code>$_FILES</code>, <code>move_uploaded_file()</code>).</li>
</ul>
<h2 id="tehnologii">Tehnologii</h2>
<ul>
<li>Server: Debian 12.5 (sau compatibil)</li>
<li>Web Server: Apache2</li>
<li>Limbaj Server-Side: PHP (versiune recentă, ex: 8.x)</li>
<li>Bază de Date: MySQL / MariaDB</li>
<li>Client-Side: HTML5, CSS3, JavaScript (opțional, pentru interactivitate sporită, ex: lightbox imagini)</li>
</ul>
<h2 id="server-de-referință">Server de Referință</h2>
<ul>
<li>Laborator: Debian 12.5</li>
<li>Server Personal (acceptat): Ubuntu 20.04 / Centos 7.1</li>
<li>Pachet software necesar: <code>apache2</code>, <code>php</code>, <code>mysql-server</code>, <code>php-mysql</code>, <code>php-gd</code> (pentru procesare imagini).</li>
</ul>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
            
        </body>
        </html>